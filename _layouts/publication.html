---
layout: default
---

<div class="page paper-page">
  <!-- Hero / header card -->
  <header class="paper-hero">
    <div class="paper-hero-top">
      <h1 class="page-title paper-title">{{ page.title }}</h1>

      <div class="paper-meta">
        {% if page.authors %}
          <span class="paper-meta-item">
            {% for author in page.authors %}
              <a class="author-link"
                 href="https://scholar.google.com/scholar?q={{ author | uri_escape }}"
                 target="_blank" rel="noopener noreferrer">
                {{ author }}
              </a>{% unless forloop.last %}<span class="meta-sep">Â·</span>{% endunless %}
            {% endfor %}
          </span>
        {% endif %}

        {% if page.conference %}
          <span class="meta-sep">Â·</span>
          <span class="paper-meta-item">{{ page.conference }}</span>
        {% endif %}

        {% if page.year %}
          <span class="meta-sep">Â·</span>
          <span class="paper-meta-item">{{ page.year }}</span>
        {% endif %}
      </div>
    </div>

    {% assign _citations = page.citations | default: 0 | plus: 0 %}
    {% assign _hf_likes  = page.huggingface_likes | default: 0 | plus: 0 %}
    {% assign _gh_stars  = page.github_stars | default: 0 | plus: 0 %}

    <!-- Metrics + actions row -->
    <div class="paper-hero-row">
      <div class="social-metrics" role="group" aria-label="Paper metrics">
        <span class="metric-pill" title="Citation count">
          <span class="metric-k">Citations</span>
          <span class="metric-v">{{ _citations }}</span>
        </span>

        <span class="metric-pill" title="GitHub repository stars">
          <span class="metric-k">GitHub</span>
          <span class="metric-v">{{ _gh_stars }}â˜…</span>
        </span>

        <span class="metric-pill" title="Hugging Face likes">
          <span class="metric-k">HF</span>
          <span class="metric-v">{{ _hf_likes }}</span>
        </span>
      </div>

      <!-- Inline Share Buttons -->
      <div class="share-buttons" aria-label="Share actions">
        <button id="share-twitter" class="icon-btn" title="Share on X" aria-label="Share on X">
          <img src="/public/media/x.svg" alt="X icon">
        </button>

        <button id="share-linkedin" class="icon-btn" title="Share on LinkedIn" aria-label="Share on LinkedIn">
          <img src="/public/media/linkedin.svg" alt="LinkedIn icon">
        </button>

        <button id="share-copy" class="icon-btn copy-btn" title="Copy link" aria-label="Copy link to clipboard">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
          <span class="copy-label">Copy</span>
          <span class="copy-toast" role="status" aria-live="polite">Copied</span>
        </button>
      </div>
    </div>

    <!-- Links + tags (cleaner layout) -->
    <div class="paper-links-tags">
      <div class="paper-links" aria-label="External links">
        {% for additional_link in page.additional_links %}
          <a class="pill-link" href="{{ additional_link.url }}" target="_blank" rel="noopener noreferrer">
            {{ additional_link.name }} â†—
          </a>
        {% endfor %}

        <a class="icon-link"
           href="https://scholar.google.com/scholar?q={{ page.title | uri_escape }}"
           target="_blank" rel="noopener noreferrer"
           title="Search on Google Scholar"
           aria-label="Search on Google Scholar">
          <img src="/public/media/google-scholar.png" alt="">
          <span>Scholar</span>
        </a>

        <a class="icon-link"
           href="https://www.semanticscholar.org/search?q={{ page.title | uri_escape }}"
           target="_blank" rel="noopener noreferrer"
           title="Search on Semantic Scholar"
           aria-label="Search on Semantic Scholar">
          <img src="/public/media/semscholar.png" alt="">
          <span>Semantic</span>
        </a>
      </div>

      {% if page.tags %}
      <div class="paper-tags" aria-label="Tags">
        {% for tag in page.tags %}
          <a class="tag-chip" href="/tags.html#{{ tag | uri_escape }}">{{ tag }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </header>

  <!-- Main content (better typography) -->
  <article class="paper-content">
    {{ content }}
  </article>

  <!-- Combined Digest CTA: Free + Pro in one box -->
  <div class="inline-digest-cta" role="complementary" aria-label="LLM News Digest (Free and Pro)">
    <div class="inline-digest-cta-header">
      ðŸ“¬ <strong>LLM News Digest</strong>
      <span class="inline-digest-cta-sub">Choose Free or Pro.</span>
    </div>

    <div class="inline-digest-cta-grid" role="group" aria-label="Free and Pro options">
      <!-- Free -->
      <div class="inline-digest-tier inline-digest-tier-free" aria-label="Free Digest">
        <div class="inline-digest-tier-top">
          <span class="inline-digest-badge inline-digest-badge-free">FREE</span>
          <span class="inline-digest-tier-title">Weekly highlights</span>
        </div>
        <div class="inline-digest-tier-body">
          <ul class="inline-digest-list">
            <li>Quick summary of new papers & tools</li>
            <li>Micro-trends and notable releases</li>
            <li>Designed for fast scanning</li>
          </ul>
        </div>
        <div class="inline-digest-tier-cta">
          <a class="inline-digest-btn inline-digest-btn-free"
             href="/digest.html?utm_source=paper&utm_medium=inline&utm_campaign=newsletter">
            Subscribe (Free) â†’
          </a>
        </div>
      </div>

      <div class="inline-digest-divider" aria-hidden="true"></div>

      <!-- Pro -->
      <div class="inline-digest-tier inline-digest-tier-pro" aria-label="Pro Digest">
        <div class="inline-digest-tier-top">
          <span class="inline-digest-badge inline-digest-badge-pro">PRO</span>
          <span class="inline-digest-tier-title">Daily + alerts</span>
        </div>
        <div class="inline-digest-tier-body">
          <ul class="inline-digest-list">
            <li>Topic alerts and watchlists</li>
            <li>Saved searches and tighter filtering</li>
            <li>Best-of picks (most cited/liked/starred)</li>
          </ul>
        </div>
        <div class="inline-digest-tier-cta">
          <a class="inline-digest-btn inline-digest-btn-pro"
             href="/pro.html?utm_source=paper&utm_medium=inline&utm_campaign=pro">
            Try Pro â†’
          </a>
        </div>
      </div>
    </div>

    <div class="inline-digest-cta-foot" aria-hidden="true">
      Free: weekly highlights Â· Pro: alerts + watchlists + saved searches + best-of picks
    </div>
  </div>

  <!-- Similar work card -->
  <section class="similar-card" aria-label="Similar work">
    <div class="similar-head">
      <h6 class="similar-title">Similar Work</h6>
      <span id="relwork-status" class="similar-status" aria-live="polite">Loadingâ€¦</span>
    </div>
    <ul id="relwork" class="similar-list"></ul>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const relwork = document.getElementById('relwork');
      const relStatus = document.getElementById('relwork-status');

      if (relwork) {
        const metaPath = "/publications-metadata/{{ page.path | replace_first: '_publications/', '' | replace: '.markdown', '' | replace: '.md', '' }}.json";
        fetch(metaPath, { credentials: 'same-origin' })
          .then(res => {
            if (!res.ok) throw new Error(res.status + " " + res.statusText);
            return res.json();
          })
          .then(data => {
            if (!Array.isArray(data) || data.length === 0) {
              relStatus.textContent = "None found";
              relwork.innerHTML = "";
              return;
            }
            relStatus.textContent = data.length + " found";
            relwork.innerHTML = data
              .map(d => `<li><a href="/publications/${d[0]}">${d[1]}</a></li>`)
              .join('');
          })
          .catch(err => {
            relStatus.textContent = "Unavailable";
            console.warn("Failed to load similar work JSON:", err);
          });
      }

      const meta = {
        title: {{ page.title | jsonify }},
        conference: {{ page.conference | default: "" | jsonify }},
        year: {{ page.year | default: "" | jsonify }},
        tags: {{ page.tags | default: empty | jsonify }},
        citations: {{ page.citations | default: 0 | jsonify }},
        github_stars: {{ page.github_stars | default: 0 | jsonify }},
        huggingface_likes: {{ page.huggingface_likes | default: 0 | jsonify }}
      };

      const pageUrl = encodeURIComponent(window.location.href);
      let tweetText = `New paper: ${meta.title}`;
      if (meta.conference) tweetText += ` â€” ${meta.conference}`;
      if (meta.year) tweetText += ` (${meta.year})`;

      const parts = [];
      if ((meta.citations || 0) > 0) parts.push(`${meta.citations} cites`);
      if ((meta.github_stars || 0) > 0) parts.push(`${meta.github_stars} GHâ˜…`);
      if ((meta.huggingface_likes || 0) > 0) parts.push(`${meta.huggingface_likes} HF likes`);
      if (parts.length) tweetText += ` â€” ${parts.join(" Â· ")}`;
      tweetText += ` ðŸ”`;

      const hashtags = (Array.isArray(meta.tags) ? meta.tags : [])
        .slice(0, 3)
        .map(t => String(t).replace(/[^A-Za-z0-9]/g, ''))
        .filter(Boolean)
        .join(',');

      const twitterBtn  = document.getElementById('share-twitter');
      const linkedinBtn = document.getElementById('share-linkedin');
      const copyBtn     = document.getElementById('share-copy');

      if (twitterBtn) {
        twitterBtn.addEventListener('click', () => {
          const customText = encodeURIComponent(tweetText);
          const hashParam  = hashtags ? `&hashtags=${encodeURIComponent(hashtags)}` : '';
          window.open(
            `https://twitter.com/intent/tweet?text=${customText}&url=${pageUrl}${hashParam}`,
            '_blank', 'noopener,noreferrer'
          );
        });
      }

      if (linkedinBtn) {
        linkedinBtn.addEventListener('click', () => {
          window.open(
            `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`,
            '_blank', 'noopener,noreferrer'
          );
        });
      }

      if (copyBtn) {
        const toast = copyBtn.querySelector('.copy-toast');
        const setToast = (on) => {
          if (!toast) return;
          toast.classList.toggle('show', !!on);
        };

        copyBtn.addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(window.location.href);
            copyBtn.classList.add('copied');
            setToast(true);
            setTimeout(() => {
              copyBtn.classList.remove('copied');
              setToast(false);
            }, 900);
          } catch (e) {
            // fallback: select + copy
            const tmp = document.createElement('input');
            tmp.value = window.location.href;
            document.body.appendChild(tmp);
            tmp.select();
            try { document.execCommand('copy'); } catch (err) {}
            document.body.removeChild(tmp);
            copyBtn.classList.add('copied');
            setToast(true);
            setTimeout(() => {
              copyBtn.classList.remove('copied');
              setToast(false);
            }, 900);
          }
        });
      }
    });
  </script>

  <style>
    /* ---------- Base polish ---------- */
    .paper-page {
      max-width: 980px;
      margin: 0 auto;
    }

    :root {
      --bg: #ffffff;
      --card: #ffffff;
      --muted: #6b7280;
      --text: #111827;
      --border: rgba(17, 24, 39, 0.12);
      --border-strong: rgba(17, 24, 39, 0.18);
      --shadow: 0 10px 30px rgba(0,0,0,0.06);
      --radius: 14px;
    }

    .paper-title {
      margin: 0 0 6px 0;
      letter-spacing: -0.015em;
      line-height: 1.12;
    }

    .paper-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
      color: var(--muted);
      font-size: 0.98rem;
    }

    .paper-meta-item { white-space: normal; }
    .meta-sep { opacity: 0.7; padding: 0 2px; }

    .author-link {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px solid transparent;
    }
    .author-link:hover { border-bottom-color: currentColor; }

    /* ---------- Hero card ---------- */
    .paper-hero {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 18px 14px;
      margin: 0 0 18px 0;
    }

    .paper-hero-top {
      display: flex;
      flex-direction: column;
      gap: 2px;
      margin-bottom: 12px;
    }

    .paper-hero-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    /* ---------- Metrics ---------- */
    .social-metrics {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }

    .metric-pill {
      display: inline-flex;
      align-items: baseline;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(248, 250, 252, 0.9);
      line-height: 1;
      user-select: none;
      white-space: nowrap;
    }

    .metric-k {
      font-size: 0.82rem;
      color: var(--muted);
      font-weight: 700;
      letter-spacing: 0.01em;
    }

    .metric-v {
      font-size: 0.95rem;
      color: var(--text);
      font-weight: 900;
    }

    /* ---------- Share buttons ---------- */
    .share-buttons {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
    }

    .icon-btn {
      appearance: none;
      border: 1px solid var(--border);
      background: rgba(248, 250, 252, 0.9);
      border-radius: 12px;
      height: 40px;
      min-width: 40px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0 10px;
      cursor: pointer;
      transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
      position: relative;

      /* âœ… Fix: ensure icon content is vertically centered (no line-box baseline issues) */
      line-height: 0;
    }

    /* âœ… Fix: force images to center within button */
    .icon-btn img {
      width: 18px;
      height: 18px;
      opacity: 0.85;
      display: block;
      margin: auto;
      align-self: center;
      object-fit: contain;
    }

    /* Keep svg aligned too */
    .icon-btn svg {
      width: 18px;
      height: 18px;
      opacity: 0.85;
      display: block;
    }

    .icon-btn:hover {
      transform: translateY(-1px);
      border-color: var(--border-strong);
      background: #ffffff;
    }

    .copy-btn {
      gap: 8px;
      padding-right: 12px;
      padding-left: 10px;
      line-height: 1; /* restore text line height for Copy button */
    }

    .copy-btn .copy-label {
      font-size: 0.88rem;
      font-weight: 800;
      color: var(--text);
    }

    .copy-toast {
      position: absolute;
      top: -10px;
      right: 8px;
      transform: translateY(-100%);
      background: #111827;
      color: #fff;
      font-size: 0.72rem;
      padding: 4px 8px;
      border-radius: 999px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.15s ease;
    }
    .copy-toast.show { opacity: 1; }
    .icon-btn.copied { border-color: rgba(16,185,129,0.40); }

    /* ---------- Links + tags ---------- */
    .paper-links-tags {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 8px;
    }

    .paper-links {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .pill-link {
      display: inline-flex;
      align-items: center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(248, 250, 252, 0.9);
      text-decoration: none;
      color: var(--text);
      font-weight: 800;
      font-size: 0.86rem;
    }
    .pill-link:hover { background: #fff; border-color: var(--border-strong); }

    .icon-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(248, 250, 252, 0.9);
      text-decoration: none;
      color: var(--text);
      font-weight: 800;
      font-size: 0.86rem;
    }

    .icon-link img {
      width: 16px;
      height: 16px;
      display: block;
      opacity: 0.9;
    }
    .icon-link:hover { background: #fff; border-color: var(--border-strong); }

    .paper-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .tag-chip {
      display: inline-flex;
      align-items: center;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(59,130,246,0.25);
      background: rgba(59,130,246,0.08);
      color: #1e3a8a;
      text-decoration: none;
      font-weight: 800;
      font-size: 0.84rem;
    }
    .tag-chip:hover { background: rgba(59,130,246,0.12); }

    /* ---------- Content typography ---------- */
    .paper-content {
      max-width: 860px;
      margin: 0 auto 18px;
      font-size: 1.05rem;
      line-height: 1.65;
      color: var(--text);
    }
    .paper-content p { margin: 0 0 1em; }
    .paper-content h2, .paper-content h3 { margin-top: 1.6em; }
    .paper-content code { font-size: 0.95em; }

    /* ---------- Similar work card ---------- */
    .similar-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 16px;
      margin: 14px 0 6px;
      box-shadow: 0 8px 22px rgba(0,0,0,0.04);
    }

    .similar-head {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      margin-bottom: 8px;
    }

    .similar-title {
      margin: 0;
      font-size: 0.98rem;
      font-weight: 900;
      letter-spacing: 0.01em;
      color: var(--text);
    }

    .similar-status {
      color: var(--muted);
      font-size: 0.88rem;
      font-weight: 700;
    }

    .similar-list {
      margin: 0;
      padding-left: 1.15rem;
      line-height: 1.5;
    }
    .similar-list li { margin: 0.25rem 0; }
    .similar-list a { text-decoration: none; }
    .similar-list a:hover { text-decoration: underline; }

    /* ---------- Existing digest CTA styles (kept, but slightly tighter) ---------- */
    .inline-digest-cta {
      margin: 1.4rem 0 1.2rem;
      padding: 1rem 1rem;
      background: rgba(248, 250, 252, 0.9);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: 0 8px 22px rgba(0,0,0,0.04);
    }

    .inline-digest-cta-header {
      display: flex;
      align-items: baseline;
      justify-content: center;
      gap: 10px;
      text-align: center;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .inline-digest-cta-sub {
      color: var(--muted);
      font-size: 0.95rem;
      font-weight: 700;
    }

    .inline-digest-cta-grid {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 12px;
      align-items: stretch;
    }

    .inline-digest-divider {
      width: 1px;
      background: rgba(0,0,0,0.10);
      border-radius: 999px;
    }

    .inline-digest-tier {
      padding: 0.95rem 1rem;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(255,255,255,0.75);
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-width: 0;
    }

    .inline-digest-tier-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .inline-digest-tier-title {
      font-weight: 900;
      color: var(--text);
      line-height: 1.2;
    }

    .inline-digest-badge {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 900;
      letter-spacing: 0.02em;
      border: 1px solid rgba(0,0,0,0.12);
      user-select: none;
      white-space: nowrap;
    }

    .inline-digest-badge-free {
      background: rgba(16,185,129,0.10);
      border-color: rgba(16,185,129,0.25);
      color: #065f46;
    }

    .inline-digest-badge-pro {
      background: rgba(59,130,246,0.10);
      border-color: rgba(59,130,246,0.25);
      color: #1e3a8a;
    }

    .inline-digest-list {
      margin: 0;
      padding-left: 1.1rem;
      color: #374151;
      font-size: 0.95rem;
      line-height: 1.35;
    }

    .inline-digest-tier-cta {
      margin-top: auto;
      display: flex;
      justify-content: flex-start;
    }

    .inline-digest-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      border-radius: 12px;
      font-weight: 900;
      text-decoration: none;
      white-space: nowrap;
      transition: transform 0.15s ease, background 0.15s ease, opacity 0.15s ease, border-color 0.15s ease;
      border: 1px solid var(--border);
      background: #ffffff;
      color: var(--text);
    }

    .inline-digest-btn:hover {
      background: #ffffff;
      transform: translateY(-1px);
      border-color: var(--border-strong);
    }

    .inline-digest-cta-foot {
      margin-top: 10px;
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
      line-height: 1.25;
    }

    @media (max-width: 820px) {
      .paper-hero { padding: 16px 14px 12px; }
      .paper-content { font-size: 1.02rem; }
    }

    @media (max-width: 720px) {
      .inline-digest-cta-grid { grid-template-columns: 1fr; }
      .inline-digest-divider { display: none; }
      .inline-digest-tier-cta { justify-content: center; }
      .paper-links-tags { flex-direction: column; align-items: flex-start; }
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0b0b0b;
        --card: rgba(255,255,255,0.03);
        --muted: rgba(255,255,255,0.72);
        --text: rgba(255,255,255,0.92);
        --border: rgba(255,255,255,0.14);
        --border-strong: rgba(255,255,255,0.22);
        --shadow: 0 10px 30px rgba(0,0,0,0.45);
      }

      .metric-pill,
      .icon-btn,
      .pill-link,
      .icon-link {
        background: rgba(255,255,255,0.05);
        border-color: var(--border);
      }
      .icon-btn:hover,
      .pill-link:hover,
      .icon-link:hover {
        background: rgba(255,255,255,0.08);
        border-color: var(--border-strong);
      }

      .tag-chip {
        background: rgba(59,130,246,0.14);
        border-color: rgba(59,130,246,0.30);
        color: #bfdbfe;
      }

      .inline-digest-cta {
        background: rgba(255,255,255,0.03);
        border-color: var(--border);
      }

      .inline-digest-tier {
        background: rgba(0,0,0,0.22);
        border-color: var(--border);
      }

      .inline-digest-divider { background: var(--border); }
      .inline-digest-list { color: rgba(255,255,255,0.80); }
      .inline-digest-btn {
        background: transparent;
        color: var(--text);
        border-color: var(--border);
      }
      .copy-toast { background: rgba(255,255,255,0.92); color: #111827; }
    }
  </style>
</div>
